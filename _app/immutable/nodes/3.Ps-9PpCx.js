import{s as ee,f as g,a as C,g as v,h as P,c as S,d as m,j as i,i as U,v as f,C as D,D as J,z as Y,l as q,m as x,n as $,u as G,k as H,E as O,F as te}from"../chunks/scheduler.wCkDe2Ta.js";import{S as se,i as le}from"../chunks/index.LId1ysqj.js";import{g as ae}from"../chunks/navigation.sly37ktX.js";function Z(r){let e,s;return{c(){e=g("p"),s=q(r[2]),this.h()},l(n){e=v(n,"P",{id:!0,class:!0,"data-test-id":!0});var t=P(e);s=x(t,r[2]),t.forEach(m),this.h()},h(){i(e,"id","error"),i(e,"class","text-red-600 text-center text-2xl font-bold mb-3"),i(e,"data-test-id","error-message")},m(n,t){U(n,e,t),f(e,s)},p(n,t){t&4&&$(s,n[2])},d(n){n&&m(e)}}}function re(r){let e,s="Welcome! This site is completely free to use, but you must sign up first!",n,t,o,l,w="Email",h,a,u,d,b,z="Password",T,_,k,E,I,A,L,M,y,R,j,B,W,K;return{c(){e=g("p"),e.textContent=s,n=C(),t=g("fieldset"),o=g("div"),l=g("label"),l.textContent=w,h=C(),a=g("input"),u=C(),d=g("div"),b=g("label"),b.textContent=z,T=C(),_=g("input"),k=C(),E=g("div"),I=g("button"),A=q("Sign Up"),M=C(),y=g("button"),R=q("Sign In"),this.h()},l(c){e=v(c,"P",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-s47t89"&&(e.textContent=s),n=S(c),t=v(c,"FIELDSET",{style:!0});var p=P(t);o=v(p,"DIV",{class:!0});var N=P(o);l=v(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(l)!=="svelte-5n7jdk"&&(l.textContent=w),h=S(N),a=v(N,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),N.forEach(m),u=S(p),d=v(p,"DIV",{class:!0});var V=P(d);b=v(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(b)!=="svelte-kmyewi"&&(b.textContent=z),T=S(V),_=v(V,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),V.forEach(m),k=S(p),E=v(p,"DIV",{class:!0});var F=P(E);I=v(F,"BUTTON",{class:!0});var Q=P(I);A=x(Q,"Sign Up"),Q.forEach(m),M=S(F),y=v(F,"BUTTON",{class:!0,"data-test-id":!0});var X=P(y);R=x(X,"Sign In"),X.forEach(m),F.forEach(m),p.forEach(m),this.h()},h(){i(e,"class","text-2xl mb-5"),i(l,"for","email"),i(l,"class","block mb-2"),a.required=!0,i(a,"id","email"),i(a,"name","email"),i(a,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),i(a,"placeholder","Email"),i(o,"class","mb-4"),i(b,"for","password"),i(b,"class","block mb-2"),_.required=!0,i(_,"type","password"),i(_,"id","password"),i(_,"name","password"),i(_,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),i(_,"placeholder","Password"),i(d,"class","mb-4"),I.disabled=L=r[3]||r[4],i(I,"class","w-1/3 px-4 py-2 bg-aqua text-white rounded-lg hover:bg-dim-aqua"),y.disabled=j=r[3]||r[4],i(y,"class","w-1/3 px-4 py-2 bg-green text-white rounded-lg hover:bg-dim-green"),i(y,"data-test-id","sign-in"),i(E,"class","mb-4 flex justify-between"),t.disabled=B=r[3]||r[4],H(t,"border","0"),H(t,"padding","0"),H(t,"margin","0")},m(c,p){U(c,e,p),U(c,n,p),U(c,t,p),f(t,o),f(o,l),f(o,h),f(o,a),O(a,r[0]),f(t,u),f(t,d),f(d,b),f(d,T),f(d,_),O(_,r[1]),f(t,k),f(t,E),f(E,I),f(I,A),f(E,M),f(E,y),f(y,R),W||(K=[D(a,"input",r[8]),D(_,"input",r[9]),D(I,"click",J(r[5])),D(y,"click",J(r[6]))],W=!0)},p(c,p){p&1&&a.value!==c[0]&&O(a,c[0]),p&2&&_.value!==c[1]&&O(_,c[1]),p&24&&L!==(L=c[3]||c[4])&&(I.disabled=L),p&24&&j!==(j=c[3]||c[4])&&(y.disabled=j),p&24&&B!==(B=c[3]||c[4])&&(t.disabled=B)},d(c){c&&(m(e),m(n),m(t)),W=!1,te(K)}}}function ne(r){let e,s,n;return{c(){e=g("p"),s=q("Please check your email at "),n=q(r[0]),this.h()},l(t){e=v(t,"P",{class:!0});var o=P(e);s=x(o,"Please check your email at "),n=x(o,r[0]),o.forEach(m),this.h()},h(){i(e,"class","text-green-600 text-center text-2xl font-bold mb-3")},m(t,o){U(t,e,o),f(e,s),f(e,n)},p(t,o){o&1&&$(n,t[0])},d(t){t&&m(e)}}}function ie(r){let e,s,n,t,o,l=r[2]&&Z(r);function w(u,d){return u[3]?ne:re}let h=w(r),a=h(r);return{c(){e=g("div"),s=g("form"),l&&l.c(),n=C(),a.c(),this.h()},l(u){e=v(u,"DIV",{class:!0});var d=P(e);s=v(d,"FORM",{class:!0});var b=P(s);l&&l.l(b),n=S(b),a.l(b),b.forEach(m),d.forEach(m),this.h()},h(){i(s,"class","container mx-auto p-6 rounded-lg w-full max-w-md"),i(e,"class","flex flex-grow h-full justify-center items-center")},m(u,d){U(u,e,d),f(e,s),l&&l.m(s,null),f(s,n),a.m(s,null),t||(o=D(s,"submit",J(r[6])),t=!0)},p(u,[d]){u[2]?l?l.p(u,d):(l=Z(u),l.c(),l.m(s,n)):l&&(l.d(1),l=null),h===(h=w(u))&&a?a.p(u,d):(a.d(1),a=h(u),a&&(a.c(),a.m(s,null)))},i:Y,o:Y,d(u){u&&m(e),l&&l.d(),a.d(),t=!1,o()}}}function oe(r,e,s){let{data:n}=e,{supabase:t,origin:o,next:l}=n,w="",h="",a="",u=!1,d=!1;const b=async()=>{s(4,d=!0);const{data:k,error:E}=await t.auth.signUp({email:w,password:h,options:{emailRedirectTo:l?`${o??""}${l}`:`${o??""}/`}});if(s(4,d=!1),E){s(2,a=E.message);return}s(3,u=!0)},z=async()=>{if(!w||!h){s(2,a="Please enter your email and password to log in.");return}const{error:k}=await t.auth.signInWithPassword({email:w,password:h});k?s(2,a=k.message):ae(l||"/")};function T(){w=this.value,s(0,w)}function _(){h=this.value,s(1,h)}return r.$$set=k=>{"data"in k&&s(7,n=k.data)},[w,h,a,u,d,b,z,n,T,_]}class ce extends se{constructor(e){super(),le(this,e,oe,ie,ee,{data:7})}}export{ce as component};
