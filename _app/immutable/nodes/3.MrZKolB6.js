import{s as Z,n as Y,r as $,e as ee,o as te}from"../chunks/scheduler.XGLZWGdw.js";import{S as ae,i as se,g as s,s as P,h as l,j as z,x as B,c as T,f as N,k as e,a as le,y as t,A as L,B as k}from"../chunks/index.li6Z87Pf.js";import{g as M}from"../chunks/navigation.SN9JiIU2.js";import{p as ne}from"../chunks/stores.gHk8zwD8.js";function oe(n){let p,a,h,U="Welcome! This site is completely free to use, but you must sign up first!",_,i,o,x="Display Name",f,r,S,g,v,q="Email",m,u,R,w,y,J="Password",W,c,F,C,D,K="Sign up",G,E,Q="Sign in",H,X;return{c(){p=s("div"),a=s("form"),h=s("p"),h.textContent=U,_=P(),i=s("div"),o=s("label"),o.textContent=x,f=P(),r=s("input"),S=P(),g=s("div"),v=s("label"),v.textContent=q,m=P(),u=s("input"),R=P(),w=s("div"),y=s("label"),y.textContent=J,W=P(),c=s("input"),F=P(),C=s("div"),D=s("button"),D.textContent=K,G=P(),E=s("button"),E.textContent=Q,this.h()},l(d){p=l(d,"DIV",{class:!0});var I=z(p);a=l(I,"FORM",{class:!0});var b=z(a);h=l(b,"P",{class:!0,"data-svelte-h":!0}),B(h)!=="svelte-ie8qrn"&&(h.textContent=U),_=T(b),i=l(b,"DIV",{class:!0});var V=z(i);o=l(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(o)!=="svelte-e0rvjn"&&(o.textContent=x),f=T(V),r=l(V,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),V.forEach(N),S=T(b),g=l(b,"DIV",{class:!0});var j=z(g);v=l(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(v)!=="svelte-9puw6w"&&(v.textContent=q),m=T(j),u=l(j,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),j.forEach(N),R=T(b),w=l(b,"DIV",{class:!0});var A=z(w);y=l(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(y)!=="svelte-h4r0oo"&&(y.textContent=J),W=T(A),c=l(A,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),A.forEach(N),F=T(b),C=l(b,"DIV",{class:!0});var O=z(C);D=l(O,"BUTTON",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-8rveqx"&&(D.textContent=K),G=T(O),E=l(O,"BUTTON",{class:!0,"data-svelte-h":!0}),B(E)!=="svelte-lhi21"&&(E.textContent=Q),O.forEach(N),b.forEach(N),I.forEach(N),this.h()},h(){e(h,"class","text-2xl mb-5"),e(o,"for","display-name"),e(o,"class","block mb-2"),e(r,"id","display-name"),e(r,"name","display-name"),e(r,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(r,"placeholder","Display name"),e(i,"class","mb-4"),e(v,"for","email"),e(v,"class","block mb-2"),e(u,"id","email"),e(u,"name","email"),e(u,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(u,"placeholder","Email"),e(g,"class","mb-4"),e(y,"for","password"),e(y,"class","block mb-2"),e(c,"id","password"),e(c,"type","password"),e(c,"name","password"),e(c,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(c,"placeholder","Password"),e(w,"class","mb-4"),e(D,"class","w-1/3 px-4 py-2 bg-aqua text-white rounded-lg hover:bg-dim-aqua"),e(E,"class","w-1/3 px-4 py-2 bg-green text-white rounded-lg hover:bg-dim-green"),e(C,"class","mb-4 flex justify-between"),e(a,"class","container mx-auto p-6 rounded-lg w-full max-w-md"),e(p,"class","flex flex-grow h-full justify-center items-center")},m(d,I){le(d,p,I),t(p,a),t(a,h),t(a,_),t(a,i),t(i,o),t(i,f),t(i,r),L(r,n[0]),t(a,S),t(a,g),t(g,v),t(g,m),t(g,u),L(u,n[1]),t(a,R),t(a,w),t(w,y),t(w,W),t(w,c),L(c,n[2]),t(a,F),t(a,C),t(C,D),t(C,G),t(C,E),H||(X=[k(r,"input",n[6]),k(u,"input",n[7]),k(c,"input",n[8]),k(E,"click",n[4]),k(a,"submit",n[3])],H=!0)},p(d,[I]){I&1&&r.value!==d[0]&&L(r,d[0]),I&2&&u.value!==d[1]&&L(u,d[1]),I&4&&c.value!==d[2]&&L(c,d[2])},i:Y,o:Y,d(d){d&&N(p),H=!1,$(X)}}}function ie(n,p,a){let h;ee(n,ne,m=>a(11,h=m));let{data:U}=p,{supabase:_}=U,i="",o="",x="",f="";const r=async()=>{await _.auth.signUp({email:o,password:x,options:{emailRedirectTo:f||location.origin}}).then(async m=>{console.log("created user",m),await _.from("profiles").insert({id:m.data.user.id,display_name:i}).then(u=>{console.log("created profile",u)})}),f?M(f):M(`${location.origin}/`)},S=async()=>{await _.auth.signInWithPassword({email:o,password:x}),f?M(f):M(`${location.origin}/`)};te(()=>{f=h.url.searchParams.get("next")});function g(){i=this.value,a(0,i)}function v(){o=this.value,a(1,o)}function q(){x=this.value,a(2,x)}return n.$$set=m=>{"data"in m&&a(5,U=m.data)},n.$$.update=()=>{n.$$.dirty&32&&({supabase:_}=U)},[i,o,x,r,S,U,g,v,q]}class pe extends ae{constructor(p){super(),se(this,p,ie,oe,Z,{data:5})}}export{pe as component};
