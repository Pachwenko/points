import{s as Z,n as Y,r as $,e as ee,o as te}from"../chunks/scheduler.XGLZWGdw.js";import{S as ae,i as le,g as l,s as P,h as s,j as L,x as N,c as T,f as D,k as e,a as se,y as t,A as S,B as V}from"../chunks/index.li6Z87Pf.js";import{g as W}from"../chunks/navigation.Wc5SLlpQ.js";import{p as ne}from"../chunks/stores.4qpRnjOT.js";function oe(n){let p,a,g,U="Welcome! This site is completely free to use, but you must sign up first!",y,r,o,_="Username",f,i,k,h,b,A="Email",m,u,q,x,w,J="Password",z,d,F,C,B,K="Sign up",G,E,Q="Sign in",H,X;return{c(){p=l("div"),a=l("form"),g=l("p"),g.textContent=U,y=P(),r=l("div"),o=l("label"),o.textContent=_,f=P(),i=l("input"),k=P(),h=l("div"),b=l("label"),b.textContent=A,m=P(),u=l("input"),q=P(),x=l("div"),w=l("label"),w.textContent=J,z=P(),d=l("input"),F=P(),C=l("div"),B=l("button"),B.textContent=K,G=P(),E=l("button"),E.textContent=Q,this.h()},l(c){p=s(c,"DIV",{class:!0});var I=L(p);a=s(I,"FORM",{class:!0});var v=L(a);g=s(v,"P",{class:!0,"data-svelte-h":!0}),N(g)!=="svelte-16860oz"&&(g.textContent=U),y=T(v),r=s(v,"DIV",{class:!0});var j=L(r);o=s(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(o)!=="svelte-nfx23"&&(o.textContent=_),f=T(j),i=s(j,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),j.forEach(D),k=T(v),h=s(v,"DIV",{class:!0});var O=L(h);b=s(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(b)!=="svelte-3a67ff"&&(b.textContent=A),m=T(O),u=s(O,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),O.forEach(D),q=T(v),x=s(v,"DIV",{class:!0});var M=L(x);w=s(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(w)!=="svelte-11ilyyv"&&(w.textContent=J),z=T(M),d=s(M,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),M.forEach(D),F=T(v),C=s(v,"DIV",{class:!0});var R=L(C);B=s(R,"BUTTON",{class:!0,"data-svelte-h":!0}),N(B)!=="svelte-1iwbal5"&&(B.textContent=K),G=T(R),E=s(R,"BUTTON",{class:!0,"data-svelte-h":!0}),N(E)!=="svelte-u70yfr"&&(E.textContent=Q),R.forEach(D),v.forEach(D),I.forEach(D),this.h()},h(){e(g,"class","text-2xl text-gray-300"),e(o,"for","display-name"),e(o,"class","block text-gray-300 mb-2"),e(i,"id","display-name"),e(i,"name","display-name"),e(i,"class","w-full p-2 text-gray-900 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(i,"placeholder","Display name"),e(r,"class","mb-4"),e(b,"for","email"),e(b,"class","block text-gray-300 mb-2"),e(u,"id","email"),e(u,"name","email"),e(u,"class","w-full p-2 text-gray-900 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(u,"placeholder","Email"),e(h,"class","mb-4"),e(w,"for","password"),e(w,"class","block text-gray-300 mb-2"),e(d,"id","password"),e(d,"type","password"),e(d,"name","password"),e(d,"class","w-full p-2 text-gray-900 bg-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),e(d,"placeholder","Password"),e(x,"class","mb-4"),e(B,"class","w-1/3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"),e(E,"class","w-1/3 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600"),e(C,"class","mb-4 flex justify-between"),e(a,"class","container mx-auto bg-gray-800 p-6 rounded-lg w-full max-w-md"),e(p,"class","flex flex-grow min-h-full justify-center items-center bg-gray-900")},m(c,I){se(c,p,I),t(p,a),t(a,g),t(a,y),t(a,r),t(r,o),t(r,f),t(r,i),S(i,n[0]),t(a,k),t(a,h),t(h,b),t(h,m),t(h,u),S(u,n[1]),t(a,q),t(a,x),t(x,w),t(x,z),t(x,d),S(d,n[2]),t(a,F),t(a,C),t(C,B),t(C,G),t(C,E),H||(X=[V(i,"input",n[6]),V(u,"input",n[7]),V(d,"input",n[8]),V(E,"click",n[4]),V(a,"submit",n[3])],H=!0)},p(c,[I]){I&1&&i.value!==c[0]&&S(i,c[0]),I&2&&u.value!==c[1]&&S(u,c[1]),I&4&&d.value!==c[2]&&S(d,c[2])},i:Y,o:Y,d(c){c&&D(p),H=!1,$(X)}}}function re(n,p,a){let g;ee(n,ne,m=>a(11,g=m));let{data:U}=p,{supabase:y}=U,r="",o="",_="",f="";const i=async()=>{await y.auth.signUp({email:o,password:_,options:{emailRedirectTo:f||location.origin}}).then(async m=>{console.log("created user",m),await y.from("profiles").insert({id:m.data.user.id,display_name:r}).then(u=>{console.log("created profile",u)})}),f?W(f):W(`${location.origin}/`)},k=async()=>{await y.auth.signInWithPassword({email:o,password:_}),f?W(f):W(`${location.origin}/`)};te(()=>{f=g.url.searchParams.get("next")});function h(){r=this.value,a(0,r)}function b(){o=this.value,a(1,o)}function A(){_=this.value,a(2,_)}return n.$$set=m=>{"data"in m&&a(5,U=m.data)},n.$$.update=()=>{n.$$.dirty&32&&({supabase:y}=U)},[r,o,_,i,k,U,h,b,A]}class pe extends ae{constructor(p){super(),le(this,p,re,oe,Z,{data:5})}}export{pe as component};
