import{s as se,n as $,r as le,e as ae,o as ne}from"../chunks/scheduler.XGLZWGdw.js";import{S as re,i as ie,g as o,s as C,h as u,j as B,x as L,c as E,f as I,k as t,a as te,y as s,A as S,B as V,m as oe,n as ue,o as ce}from"../chunks/index.li6Z87Pf.js";import{g as F}from"../chunks/navigation.a4OkPTbD.js";import{p as de}from"../chunks/stores.ZB6i-8Mb.js";function ee(a){let l,e;return{c(){l=o("p"),e=oe(a[3]),this.h()},l(n){l=u(n,"P",{id:!0,class:!0});var d=B(l);e=ue(d,a[3]),d.forEach(I),this.h()},h(){t(l,"id","error"),t(l,"class","text-red-600 text-center text-2xl font-bold mb-3")},m(n,d){te(n,l,d),s(l,e)},p(n,d){d&8&&ce(e,n[3])},d(n){n&&I(l)}}}function fe(a){let l,e,n,d="Welcome! This site is completely free to use, but you must sign up first!",k,w,f,p,z="Display Name",v,h,j,_,x,q="Email",r,m,G,P,T,R="Password",H,g,J,U,D,X="Sign Up",K,N,Y="Sign In",Q,Z,i=a[3]&&ee(a);return{c(){l=o("div"),e=o("form"),n=o("p"),n.textContent=d,k=C(),i&&i.c(),w=C(),f=o("div"),p=o("label"),p.textContent=z,v=C(),h=o("input"),j=C(),_=o("div"),x=o("label"),x.textContent=q,r=C(),m=o("input"),G=C(),P=o("div"),T=o("label"),T.textContent=R,H=C(),g=o("input"),J=C(),U=o("div"),D=o("button"),D.textContent=X,K=C(),N=o("button"),N.textContent=Y,this.h()},l(c){l=u(c,"DIV",{class:!0});var y=B(l);e=u(y,"FORM",{class:!0});var b=B(e);n=u(b,"P",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-ie8qrn"&&(n.textContent=d),k=E(b),i&&i.l(b),w=E(b),f=u(b,"DIV",{class:!0});var A=B(f);p=u(A,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(p)!=="svelte-xvxr5t"&&(p.textContent=z),v=E(A),h=u(A,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),A.forEach(I),j=E(b),_=u(b,"DIV",{class:!0});var M=B(_);x=u(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(x)!=="svelte-5n7jdk"&&(x.textContent=q),r=E(M),m=u(M,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),M.forEach(I),G=E(b),P=u(b,"DIV",{class:!0});var O=B(P);T=u(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(T)!=="svelte-kmyewi"&&(T.textContent=R),H=E(O),g=u(O,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),O.forEach(I),J=E(b),U=u(b,"DIV",{class:!0});var W=B(U);D=u(W,"BUTTON",{class:!0,"data-svelte-h":!0}),L(D)!=="svelte-528h29"&&(D.textContent=X),K=E(W),N=u(W,"BUTTON",{class:!0,"data-svelte-h":!0}),L(N)!=="svelte-1v0t4w1"&&(N.textContent=Y),W.forEach(I),b.forEach(I),y.forEach(I),this.h()},h(){t(n,"class","text-2xl mb-5"),t(p,"for","display-name"),t(p,"class","block mb-2"),t(h,"id","display-name"),t(h,"name","display-name"),t(h,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(h,"placeholder","Display name"),t(f,"class","mb-4"),t(x,"for","email"),t(x,"class","block mb-2"),t(m,"id","email"),t(m,"name","email"),t(m,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(m,"placeholder","Email"),t(_,"class","mb-4"),t(T,"for","password"),t(T,"class","block mb-2"),t(g,"id","password"),t(g,"type","password"),t(g,"name","password"),t(g,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(g,"placeholder","Password"),t(P,"class","mb-4"),t(D,"class","w-1/3 px-4 py-2 bg-aqua text-white rounded-lg hover:bg-dim-aqua"),t(N,"class","w-1/3 px-4 py-2 bg-green text-white rounded-lg hover:bg-dim-green"),t(U,"class","mb-4 flex justify-between"),t(e,"class","container mx-auto p-6 rounded-lg w-full max-w-md"),t(l,"class","flex flex-grow h-full justify-center items-center")},m(c,y){te(c,l,y),s(l,e),s(e,n),s(e,k),i&&i.m(e,null),s(e,w),s(e,f),s(f,p),s(f,v),s(f,h),S(h,a[0]),s(e,j),s(e,_),s(_,x),s(_,r),s(_,m),S(m,a[1]),s(e,G),s(e,P),s(P,T),s(P,H),s(P,g),S(g,a[2]),s(e,J),s(e,U),s(U,D),s(U,K),s(U,N),Q||(Z=[V(h,"input",a[7]),V(m,"input",a[8]),V(g,"input",a[9]),V(D,"click",a[4]),V(N,"click",a[5]),V(e,"submit",pe)],Q=!0)},p(c,[y]){c[3]?i?i.p(c,y):(i=ee(c),i.c(),i.m(e,w)):i&&(i.d(1),i=null),y&1&&h.value!==c[0]&&S(h,c[0]),y&2&&m.value!==c[1]&&S(m,c[1]),y&4&&g.value!==c[2]&&S(g,c[2])},i:$,o:$,d(c){c&&I(l),i&&i.d(),Q=!1,le(Z)}}}const pe=()=>{};function me(a,l,e){let n;ae(a,de,r=>e(12,n=r));let{data:d}=l,{supabase:k}=d,w="",f="",p="",z="",v="";const h=async()=>{await k.auth.signUp({email:f,password:p,options:{emailRedirectTo:v||location.origin}}).then(async r=>{r.error?e(3,z=r.error.message):await k.from("profiles").insert({id:r.data.user.id,display_name:w}).then(m=>{m.error?e(3,z=m.error.message):v?F(v):F(`${location.origin}/`)})})},j=async()=>{k.auth.signInWithPassword({email:f,password:p}).then(r=>{console.log(r),r.error?e(3,z=r.error.message):v?F(v):F(`${location.origin}/`)})};ne(()=>{v=n.url.searchParams.get("next")});function _(){w=this.value,e(0,w)}function x(){f=this.value,e(1,f)}function q(){p=this.value,e(2,p)}return a.$$set=r=>{"data"in r&&e(6,d=r.data)},a.$$.update=()=>{a.$$.dirty&64&&({supabase:k}=d)},[w,f,p,z,h,j,d,_,x,q]}class _e extends re{constructor(l){super(),ie(this,l,me,fe,se,{data:6})}}export{_e as component};
