import{s as S,n as m}from"../chunks/scheduler.k-kUyWhY.js";import{S as v,i as x,s as g,g as d,c as h,h as p,y as b,a as u,z as C,f as r,m as y,j as P,n as k,x as N,o as O}from"../chunks/index.uKyVMVU-.js";function _(c){let s,a="client-side data fetching with RLS",i,l,o=JSON.stringify(c[1],null,2)+"",e;return{c(){s=d("p"),s.textContent=a,i=g(),l=d("pre"),e=y(o)},l(t){s=p(t,"P",{"data-svelte-h":!0}),b(s)!=="svelte-1u15duc"&&(s.textContent=a),i=h(t),l=p(t,"PRE",{});var n=P(l);e=k(n,o),n.forEach(r)},m(t,n){u(t,s,n),u(t,i,n),u(t,l,n),N(l,e)},p(t,n){n&2&&o!==(o=JSON.stringify(t[1],null,2)+"")&&O(e,o)},d(t){t&&(r(s),r(i),r(l))}}}function T(c){let s,a,i="Log stuff",l,o,e=c[0].session&&_(c);return{c(){e&&e.c(),s=g(),a=d("button"),a.textContent=i},l(t){e&&e.l(t),s=h(t),a=p(t,"BUTTON",{"data-svelte-h":!0}),b(a)!=="svelte-1n6rghb"&&(a.textContent=i)},m(t,n){e&&e.m(t,n),u(t,s,n),u(t,a,n),l||(o=C(a,"click",c[3]),l=!0)},p(t,[n]){t[0].session?e?e.p(t,n):(e=_(t),e.c(),e.m(s.parentNode,s)):e&&(e.d(1),e=null)},i:m,o:m,d(t){t&&(r(s),r(a)),e&&e.d(t),l=!1,o()}}}function w(c,s,a){let{data:i}=s,l=i.supabase.channel("foo").on("postgres_changes",{event:"*",schema:"public",table:"PointingSession"},f=>{console.log("Session changed:",f),a(1,o=f)}).subscribe(),o=[];async function e(){const{data:f}=await i.supabase.from("PointingSession").select("*").limit(20);a(1,o=f),t()}function t(){console.log(l),console.log(i)}const n=()=>t();return c.$$set=f=>{"data"in f&&a(0,i=f.data)},c.$$.update=()=>{c.$$.dirty&1&&i.session&&e()},[i,o,t,n]}class J extends v{constructor(s){super(),x(this,s,w,T,S,{data:0})}}export{J as component};
