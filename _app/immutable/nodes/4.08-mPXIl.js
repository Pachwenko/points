import{s as X,n as J,e as K,o as Y}from"../chunks/scheduler.k-kUyWhY.js";import{S as Z,i as $,g as d,h as c,j as v,f as h,k as T,a as W,m as D,s as I,n as L,x as q,c as M,y as l,o as w}from"../chunks/index.r8EpClek.js";import{g as N}from"../chunks/navigation.QPO9O_54.js";import{b as Q,a as U}from"../chunks/store.GyNWBc1a.js";const ee=({params:n})=>({slug:n.slug}),oe=Object.freeze(Object.defineProperty({__proto__:null,load:ee},Symbol.toStringTag,{value:"Module"}));function R(n){let t,e,s,o,i=n[0].slug+"",_,f,a,z="Players",V,m,y,b=n[2].display_name+"",S,j,P=n[1].users+"",x,k,g,G="",O,p,A="";return{c(){t=d("div"),e=d("div"),s=d("h1"),o=D("Pointing Session "),_=D(i),f=d("h1"),a=d("h3"),a.textContent=z,V=I(),m=d("ol"),y=d("li"),S=D(b),j=I(),x=D(P),k=I(),g=d("div"),g.innerHTML=G,O=I(),p=d("div"),p.innerHTML=A,this.h()},l(u){t=c(u,"DIV",{class:!0});var r=v(t);e=c(r,"DIV",{});var B=v(e);s=c(B,"H1",{class:!0});var E=v(s);o=L(E,"Pointing Session "),_=L(E,i),f=c(E,"H1",{});var H=v(f);a=c(H,"H3",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-ph10ye"&&(a.textContent=z),V=M(H),m=c(H,"OL",{});var C=v(m);y=c(C,"LI",{});var F=v(y);S=L(F,b),F.forEach(h),j=M(C),x=L(C,P),C.forEach(h),H.forEach(h),E.forEach(h),B.forEach(h),k=M(r),g=c(r,"DIV",{"data-svelte-h":!0}),q(g)!=="svelte-olyag"&&(g.innerHTML=G),O=M(r),p=c(r,"DIV",{"data-svelte-h":!0}),q(p)!=="svelte-pyc1uw"&&(p.innerHTML=A),r.forEach(h),this.h()},h(){T(a,"class","font-bold text-xl"),T(s,"class","text-3xl font-bold p-3"),T(t,"class","grid grid-cols-3")},m(u,r){W(u,t,r),l(t,e),l(e,s),l(s,o),l(s,_),l(s,f),l(f,a),l(f,V),l(f,m),l(m,y),l(y,S),l(m,j),l(m,x),l(t,k),l(t,g),l(t,O),l(t,p)},p(u,r){r&1&&i!==(i=u[0].slug+"")&&w(_,i),r&4&&b!==(b=u[2].display_name+"")&&w(S,b),r&2&&P!==(P=u[1].users+"")&&w(x,P)},d(u){u&&h(t)}}}function te(n){let t,e=n[1]&&n[2]&&R(n);return{c(){t=d("div"),e&&e.c(),this.h()},l(s){t=c(s,"DIV",{class:!0});var o=v(t);e&&e.l(o),o.forEach(h),this.h()},h(){T(t,"class","bg-gray-900 text-white p-8 min-h-screen flex flex-col justify-center items-center")},m(s,o){W(s,t,o),e&&e.m(t,null)},p(s,[o]){s[1]&&s[2]?e?e.p(s,o):(e=R(s),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:J,o:J,d(s){s&&h(t),e&&e.d()}}}function se(n,t,e){let s,o;K(n,Q,a=>e(1,s=a)),K(n,U,a=>e(2,o=a));let{data:i}=t,{supabase:_}=i;async function f(){_.from("PointingSession").select("*").eq("id",i.slug).single().then(a=>{console.log("Got pointing session",a),a.data&&Q.set(a.data)}),_.from("profiles").select("*").limit(1).single().then(a=>{console.log("profile",a),a?.data?U.set(a.data):U.set({display_name:"default",temporary:!0})})}return Y(async()=>{i.session||N("/auth"),i.slug||N("/")}),n.$$set=a=>{"data"in a&&e(0,i=a.data)},n.$$.update=()=>{n.$$.dirty&1&&({supabase:_}=i),n.$$.dirty&1&&i.session&&f()},[i,s,o]}class re extends Z{constructor(t){super(),$(this,t,se,te,X,{data:0})}}export{re as component,oe as universal};
