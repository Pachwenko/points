import{s as ae,n as $,r as le}from"../chunks/scheduler.XGLZWGdw.js";import{S as ne,i as re,g as i,s as I,h as o,j as N,x as L,c as k,f as P,k as t,a as se,y as s,A as S,B as V,C as K,m as ie,n as oe,o as ue}from"../chunks/index.-CUx3Znz.js";import{g as ee}from"../chunks/navigation.hGAhkB_k.js";function te(n){let a,e;return{c(){a=i("p"),e=ie(n[3]),this.h()},l(l){a=o(l,"P",{id:!0,class:!0,"data-test-id":!0});var f=N(a);e=oe(f,n[3]),f.forEach(P),this.h()},h(){t(a,"id","error"),t(a,"class","text-red-600 text-center text-2xl font-bold mb-3"),t(a,"data-test-id","error-message")},m(l,f){se(l,a,f),s(a,e)},p(l,f){f&8&&ue(e,l[3])},d(l){l&&P(a)}}}function de(n){let a,e,l,f="Welcome! This site is completely free to use, but you must sign up first!",q,b,p,u,w="Display Name",y,m,j,_,x,A="Email",v,d,B,T,U,Q="Password",F,h,G,D,z,X="Sign Up",H,C,Y="Sign In",J,Z,r=n[3]&&te(n);return{c(){a=i("div"),e=i("form"),l=i("p"),l.textContent=f,q=I(),r&&r.c(),b=I(),p=i("div"),u=i("label"),u.textContent=w,y=I(),m=i("input"),j=I(),_=i("div"),x=i("label"),x.textContent=A,v=I(),d=i("input"),B=I(),T=i("div"),U=i("label"),U.textContent=Q,F=I(),h=i("input"),G=I(),D=i("div"),z=i("button"),z.textContent=X,H=I(),C=i("button"),C.textContent=Y,this.h()},l(c){a=o(c,"DIV",{class:!0});var E=N(a);e=o(E,"FORM",{class:!0});var g=N(e);l=o(g,"P",{class:!0,"data-svelte-h":!0}),L(l)!=="svelte-ie8qrn"&&(l.textContent=f),q=k(g),r&&r.l(g),b=k(g),p=o(g,"DIV",{class:!0});var O=N(p);u=o(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(u)!=="svelte-xvxr5t"&&(u.textContent=w),y=k(O),m=o(O,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),O.forEach(P),j=k(g),_=o(g,"DIV",{class:!0});var M=N(_);x=o(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(x)!=="svelte-5n7jdk"&&(x.textContent=A),v=k(M),d=o(M,"INPUT",{id:!0,name:!0,class:!0,placeholder:!0}),M.forEach(P),B=k(g),T=o(g,"DIV",{class:!0});var R=N(T);U=o(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(U)!=="svelte-kmyewi"&&(U.textContent=Q),F=k(R),h=o(R,"INPUT",{id:!0,type:!0,name:!0,class:!0,placeholder:!0}),R.forEach(P),G=k(g),D=o(g,"DIV",{class:!0});var W=N(D);z=o(W,"BUTTON",{class:!0,"data-svelte-h":!0}),L(z)!=="svelte-14ydwbg"&&(z.textContent=X),H=k(W),C=o(W,"BUTTON",{class:!0,"data-test-id":!0,"data-svelte-h":!0}),L(C)!=="svelte-4dz2lt"&&(C.textContent=Y),W.forEach(P),g.forEach(P),E.forEach(P),this.h()},h(){t(l,"class","text-2xl mb-5"),t(u,"for","display-name"),t(u,"class","block mb-2"),t(m,"id","display-name"),t(m,"name","display-name"),t(m,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(m,"placeholder","Display name"),t(p,"class","mb-4"),t(x,"for","email"),t(x,"class","block mb-2"),d.required=!0,t(d,"id","email"),t(d,"name","email"),t(d,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(d,"placeholder","Email"),t(_,"class","mb-4"),t(U,"for","password"),t(U,"class","block mb-2"),h.required=!0,t(h,"id","password"),t(h,"type","password"),t(h,"name","password"),t(h,"class","w-full p-2 text-zinc-900 bg-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"),t(h,"placeholder","Password"),t(T,"class","mb-4"),t(z,"class","w-1/3 px-4 py-2 bg-aqua text-white rounded-lg hover:bg-dim-aqua"),t(C,"class","w-1/3 px-4 py-2 bg-green text-white rounded-lg hover:bg-dim-green"),t(C,"data-test-id","sign-in"),t(D,"class","mb-4 flex justify-between"),t(e,"class","container mx-auto p-6 rounded-lg w-full max-w-md"),t(a,"class","flex flex-grow h-full justify-center items-center")},m(c,E){se(c,a,E),s(a,e),s(e,l),s(e,q),r&&r.m(e,null),s(e,b),s(e,p),s(p,u),s(p,y),s(p,m),S(m,n[0]),s(e,j),s(e,_),s(_,x),s(_,v),s(_,d),S(d,n[1]),s(e,B),s(e,T),s(T,U),s(T,F),s(T,h),S(h,n[2]),s(e,G),s(e,D),s(D,z),s(D,H),s(D,C),J||(Z=[V(m,"input",n[7]),V(d,"input",n[8]),V(h,"input",n[9]),V(z,"click",K(n[4])),V(C,"click",K(n[5])),V(e,"submit",K(n[5]))],J=!0)},p(c,[E]){c[3]?r?r.p(c,E):(r=te(c),r.c(),r.m(e,b)):r&&(r.d(1),r=null),E&1&&m.value!==c[0]&&S(m,c[0]),E&2&&d.value!==c[1]&&S(d,c[1]),E&4&&h.value!==c[2]&&S(h,c[2])},i:$,o:$,d(c){c&&P(a),r&&r.d(),J=!1,le(Z)}}}function ce(n,a,e){let{data:l}=a,{supabase:f,origin:q,next:b}=l,p="",u="",w="",y="";const m=async()=>{const{data:v,error:d}=await f.auth.signUp({email:u,password:w,options:{emailRedirectTo:b?`${q}${b}`:`${q}/`}});if(d){e(3,y=d.message);return}const{error:B}=await f.from("profiles").insert({id:v.user.id,display_name:p});if(B){e(3,y=B.message);return}ee(b||"/")},j=async()=>{if(!u||!w){e(3,y="Please enter your email and password to log in.");return}const{error:v}=await f.auth.signInWithPassword({email:u,password:w});v?e(3,y=v.message):ee(b||"/")};function _(){p=this.value,e(0,p)}function x(){u=this.value,e(1,u)}function A(){w=this.value,e(2,w)}return n.$$set=v=>{"data"in v&&e(6,l=v.data)},[p,u,w,y,m,j,l,_,x,A]}class he extends ne{constructor(a){super(),re(this,a,ce,de,ae,{data:6})}}export{he as component};
